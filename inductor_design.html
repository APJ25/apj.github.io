<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inductor Design Analysis (Parametric Method) - Interactive Plots</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #0056b3;
        }
        pre {
            background-color: #eee;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .section-separator {
            border-top: 2px dashed #ccc;
            margin: 40px 0;
        }
        .note {
            background-color: #fff3cd;
            border-left: 6px solid #ffe08a;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 4px;
        }
        .plot-controls {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #e9e9e9;
            border-radius: 8px;
        }
        .plot-controls label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
        }
        .plot-controls input[type="checkbox"] {
            margin-right: 8px;
        }
        .plot-container {
            text-align: center;
            margin-bottom: 30px;
            border: 1px solid #ddd;
            padding: 10px;
            background-color: #f9f9f9;
            display: none; /* Hidden by default */
        }
        .plot-container img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .plot-caption {
            margin-top: 10px;
            font-style: italic;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Inductor Design Analysis (Parametric Method) - Interactive Plots</h1>

        <div class="note">
            <h3>Important Note: Generating & Displaying Plots</h3>
            <p>
                The plots for this analysis are generated by the provided MATLAB code.
                To view them on this webpage, you must first run the MATLAB script yourself.
                After running the script, save each generated figure as an image file (e.g., PNG, JPEG).
                It is **highly recommended** to save them to a subfolder named `images/` within your website's directory.
                Then, update the `src` attributes of the `<img>` tags below to point to the correct paths of your saved image files.
            </p>
            <p>
                For example, if you save `figure1.png` in the `images` folder, the `src` for Figure 1 should be `src="images/figure1.png"`.
            </p>
            <p>
                Use the checkboxes below to toggle the visibility of each plot.
            </p>
        </div>

        <h2>Steinmetz Parameters (Calculated)</h2>
        <p>These parameters are calculated based on the input frequency (100 kHz):</p>
        <ul>
            <li>$\alpha = 1.07816$</li>
            <li>$\beta = 2.92017$</li>
            <li>$k = 0.16491$</li>
        </ul>

        <div class="section-separator"></div>

        <h2>Inductor Design: Parametric Sweep and Optimization</h2>
        <p>This method involves sweeping through core diameters and solving for the optimal air gap and number of turns. It then analyzes associated losses and core volume to identify a design point that balances these factors.</p>

        <h3>Optimization Results: Closest Point to Normalized Intersection</h3>
        <p>The MATLAB script identifies a design point that aims to minimize total loss while considering core volume. This is represented by the "closest point" on the total loss ($P$) versus core volume ($V_c$) curve to an idealized intersection of minimal loss and maximal volume.</p>
        <ul>
            <li><strong>Closest Total Loss (P):</strong> [Calculated P in Watts] W</li>
            <li><strong>Closest Core Volume ($V_c$):</strong> [Calculated Vc in cm³] cm³</li>
            <li><strong>Closest Number of Turns (N):</strong> [Calculated N]</li>
        </ul>

        <h3>Summary of Key Parameters at N ≈ 12 Turns</h3>
        <p>A specific design point where the calculated number of turns ($N$) is approximately 12 is highlighted for detailed examination:</p>
        <ul>
            <li><strong>Window Area ($A_w$):</strong> [Calculated Aw] mm²</li>
            <li><strong>Core Diameter ($D_c$):</strong> [Calculated Dc] mm</li>
            <li><strong>Air Gap ($l_g$):</strong> [Calculated eg] mm</li>
            <li><strong>Cross Sectional Area (A):</strong> [Calculated A] mm²</li>
            <li><strong>Inductance ($L_1$):</strong> [Calculated L1] μH</li>
            <li><strong>Core Volume ($V_c$):):</strong> [Calculated Vc] cm³</li>
            <li><strong>Core Loss ($P_{core}$):</strong> [Calculated Pin] W</li>
            <li><strong>Copper Loss ($P_w$):</strong> [Calculated Pw] W</li>
            <li><strong>Total Loss (P):</strong> [Calculated P] W</li>
        </ul>
        <p><strong>Note:</strong> The MATLAB script explicitly states, "The core is R22/6/6 with an air gap of 0.867mm", suggesting this is a target or example core for the conditions at N=12.</p>

        <h3>Extremes of Air Gap</h3>
        <ul>
            <li><strong>Minimum Air Gap:</strong> [Calculated eg_min] mm at N = [Calculated N at eg_min], Dc = [Calculated Dc at eg_min] mm</li>
            <li><strong>Maximum Air Gap:</strong> [Calculated eg_max] mm at N = [Calculated N at eg_max], Dc = [Calculated Dc at eg_max] mm</li>
            <li><strong>Core Diameter ($D_c$) at N = 12:</strong> [Calculated Dc_at_N12] mm</li>
        </ul>

        <h3>Window Area ($A_w$) Extremes</h3>
        <ul>
            <li><strong>Window Area ($A_w$) at N = 12:</strong> [Calculated Aw_at_N12] mm²</li>
            <li><strong>Minimum Window Area ($A_w$):</strong> [Calculated Aw_min] mm²</li>
            <li><strong>Maximum Window Area ($A_w$):</strong> [Calculated Aw_max] mm²</li>
        </ul>

        <div class="section-separator"></div>

        <h2>Interactive Plots</h2>
        <p>Select the plots you wish to view:</p>

        <div class="plot-controls">
            <h3>Plot Visibility Controls:</h3>
            <label><input type="checkbox" data-plot-id="plot1"> Figure 1: N vs. Air Gap ($l_g$)</label>
            <label><input type="checkbox" data-plot-id="plot2"> Figure 2: Core Area (A) vs. Air Gap ($l_g$)</label>
            <label><input type="checkbox" data-plot-id="plot3"> Figure 3: 1/N vs. Air Gap ($l_g$)</label>
            <label><input type="checkbox" data-plot-id="plot4"> Figure 4: Core Area (A) vs. Number of Turns (N)</label>
            <label><input type="checkbox" data-plot-id="plot5"> Figure 5: Total Loss (P) vs. Core Volume ($V_c$) with Optimal Point</label>
            <label><input type="checkbox" data-plot-id="plot6"> Figure 6: Number of Turns (N) vs. Core Volume ($V_c$) with Optimal Point</label>
            <label><input type="checkbox" data-plot-id="plot7"> Figure 7: Real Inductance ($L_1$) vs. Cross Section (A)</label>
            <label><input type="checkbox" data-plot-id="plot8"> Figure 8: Real Flux Density ($B_1$) vs. Cross Section (A)</label>
            <label><input type="checkbox" data-plot-id="plot9"> Figure 9: Magnetic Energy ($E_m$) vs. Electrical Energy ($E_L$) vs. Cross Section (A)</label>
            <label><input type="checkbox" data-plot-id="plot11"> Figure 11: Total Loss (P) vs. N and A (Dual Axis)</label>
            <label><input type="checkbox" data-plot-id="plot10"> Figure 10: Core Volume ($V_c$) vs. N and A (Dual Axis)</label>
            <label><input type="checkbox" data-plot-id="plot_aw_vs_n"> Window Area ($A_w$) vs. Number of Turns (N)</label>
            <label><input type="checkbox" data-plot-id="plot_dc_vs_n"> Core Diameter ($D_c$) vs. Number of Turns (N)</label>
            <label><input type="checkbox" data-plot-id="plot_l_vs_lg"> Inductance ($L$) vs. Air Gap ($l_g$)</label>
            <label><input type="checkbox" data-plot-id="plot_l_vs_dc"> Inductance ($L$) vs. Core Diameter ($D_c$)</label>
        </div>

        <div id="plot1" class="plot-container">
            <img src="images/figure1.png" alt="Figure 1: Number of Turns (N) vs. Air Gap (lg)">
            <p class="plot-caption"><strong>Figure 1:</strong> Number of Turns (N) vs. Air Gap ($l_g$).</p>
        </div>

        <div id="plot2" class="plot-container">
            <img src="images/figure2.png" alt="Figure 2: Core Area (A) vs. Air Gap (lg)">
            <p class="plot-caption"><strong>Figure 2:</strong> Core Area (A) vs. Air Gap ($l_g$).</p>
        </div>

        <div id="plot3" class="plot-container">
            <img src="images/figure3.png" alt="Figure 3: 1/N vs. Air Gap (lg)">
            <p class="plot-caption"><strong>Figure 3:</strong> 1/N vs. Air Gap ($l_g$).</p>
        </div>

        <div id="plot4" class="plot-container">
            <img src="images/figure4.png" alt="Figure 4: Core Area (A) vs. Number of Turns (N)">
            <p class="plot-caption"><strong>Figure 4:</strong> Core Area (A) vs. Number of Turns (N).</p>
        </div>

        <div id="plot5" class="plot-container">
            <img src="images/figure5.png" alt="Figure 5: Total Loss (P) vs. Core Volume (Vc) with Optimal Point">
            <p class="plot-caption"><strong>Figure 5:</strong> Total Loss (P) vs. Core Volume ($V_c$) with Optimal Point. This plot highlights the closest point on the curve to the normalized intersection of maximum volume and minimum loss.</p>
        </div>

        <div id="plot6" class="plot-container">
            <img src="images/figure6.png" alt="Figure 6: Number of Turns (N) vs. Core Volume (Vc) with Optimal Point">
            <p class="plot-caption"><strong>Figure 6:</strong> Number of Turns (N) vs. Core Volume ($V_c$) with Optimal Point. This plot shows how core volume varies with turns, marking the optimal design point found.</p>
        </div>

        <div id="plot7" class="plot-container">
            <img src="images/figure7.png" alt="Figure 7: Real Inductance (L1) vs. Cross Section (A) with Target Inductance">
            <p class="plot-caption"><strong>Figure 7:</strong> Real Inductance ($L_1$) vs. Cross Section (A) with Target Inductance. Compares the calculated inductance to the target inductance.</p>
        </div>

        <div id="plot8" class="plot-container">
            <img src="images/figure8.png" alt="Figure 8: Real Flux Density (B1) vs. Cross Section (A) with Target Flux Density">
            <p class="plot-caption"><strong>Figure 8:</strong> Real Flux Density ($B_1$) vs. Cross Section (A) with Target Flux Density. Shows calculated flux density against the target flux density.</p>
        </div>

        <div id="plot9" class="plot-container">
            <img src="images/figure9.png" alt="Figure 9: Magnetic Energy (Em) vs. Electrical Energy (EL) vs. Cross Section (A)">
            <p class="plot-caption"><strong>Figure 9:</strong> Magnetic Energy ($E_m$) vs. Electrical Energy ($E_L$) vs. Cross Section (A). Illustrates energy storage characteristics.</p>
        </div>

        <div id="plot11" class="plot-container">
            <img src="images/figure11.png" alt="Figure 11: Total Loss (P) vs. Number of Turns (N) and Core Area (A)">
            <p class="plot-caption"><strong>Figure 11:</strong> Total Loss (P) vs. Number of Turns (N) and Core Area (A). This plot uses a dual y-axis to show the relationship of total loss with both number of turns and core area.</p>
        </div>

        <div id="plot10" class="plot-container">
            <img src="images/figure10.png" alt="Figure 10: Core Volume (Vc) vs. Number of Turns (N) and Core Area (A)">
            <p class="plot-caption"><strong>Figure 10:</strong> Core Volume ($V_c$) vs. Number of Turns (N) and Core Area (A). A dual y-axis plot showing how core volume varies with number of turns and core area.</p>
        </div>

        <div id="plot_aw_vs_n" class="plot-container">
            <img src="images/aw_vs_n.png" alt="Window Area Aw vs. Number of Turns N">
            <p class="plot-caption"><strong>Window Area ($A_w$) vs. Number of Turns (N).</strong> This plot highlights the window area at N=12 turns.</p>
        </div>

        <div id="plot_dc_vs_n" class="plot-container">
            <img src="images/dc_vs_n.png" alt="Core Diameter Dc vs. Number of Turns N">
            <p class="plot-caption"><strong>Core Diameter ($D_c$) vs. Number of Turns (N).</strong> Shows the relationship between core diameter and number of turns, with the point at N=12 highlighted.</p>
        </div>

        <div id="plot_l_vs_lg" class="plot-container">
            <img src="images/inductance_vs_airgap.png" alt="Inductance vs. Air Gap lg">
            <p class="plot-caption"><strong>Inductance ($L$) vs. Air Gap ($l_g$).</strong> Plots the inductance as a function of air gap, highlighting the inductance and air gap at N=12 turns.</p>
        </div>

        <div id="plot_l_vs_dc" class="plot-container">
            <img src="images/inductance_vs_corediameter.png" alt="Inductance vs. Core Diameter Dc">
            <p class="plot-caption"><strong>Inductance ($L$) vs. Core Diameter ($D_c$).</strong> Illustrates how inductance varies with core diameter, with the N=12 point highlighted.</p>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.plot-controls input[type="checkbox"]');

            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const plotId = this.dataset.plotId;
                    const plotContainer = document.getElementById(plotId);
                    if (this.checked) {
                        plotContainer.style.display = 'block';
                    } else {
                        plotContainer.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>
